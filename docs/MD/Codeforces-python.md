---
title: Codeforces题目集爬取，包括是否AC
date: 2021-10-15
cover: https://kilzo.coding.net/p/Kilzo/d/Blog-data/git/raw/master/Picture-md/picture_6_.webp
categories: 
 - ACM算法竞赛
tags: 
 - Codeforce
---

# Codeforces题目集爬取，包括是否AC

这几天本来想从网上找个$Codeforces$入门题单，但是没找到好吧23333.....在搜索的过程中，我发现有人写了爬取$Codeforces$题单的爬虫，处于好奇和对Python初步了解的情况下点进去看了。发现居然是好几年前写的爬虫......直接当场去世。可是，既然发现了，而且有点感兴趣，我就入坑改爬虫了。

本校大佬(当然是本校公认的，可能在各位佬眼中是垃圾)的指引下，我认识了BS4([Beautiful Soup 4](https://www.crummy.com/software/BeautifulSoup/bs4/doc.zh/)),他说这个是用来爬虫的，我的pycharm装了果然能跑动了。但是输出为空。然后大佬又改又跑了1个小时，最后没搞懂问题出在哪。跑路了......

后来我才发现是我下载的版本太远古了，发现作者的Github上有个17年更新的，于是果断download下来跑了。

结果当然是跑动了但完全没跑动。题单是出来了，但是每一题AC情况没有。于是乎，我开始了罪恶的改bug。

我仔细`debug`他的做法，发现错误出在了`codeforces[id][title]`中的`id`，题目集爬出来的`id`是`数字+字母`,然而在目标的`submission`中爬取的`id`却是字母题号。2333333....看来是网站更新了，html改了......

于是乎，经过上次本校大佬介绍的BS4,我开始搜罗各种各样的改法。这里就用上了暑假学会的改透明度时候用的F12控制台搜索。一遍一遍仔细读了代码。table,下的td，tr，a,最后锁定第一版应该用`tittle`做`id`这样就理论上能成功了。于是我先这样后那样就成功了。

![21-8-13-1](~@pos/21-8-13-1.png)

![21-8-13-2](~@pos/21-8-13-2.png)

大概修改就在这了。这里我魔改了两位爬取题单的前辈们的代码。一位是刚刚我找的那个原模板，一个是只爬取`submsssion`的大佬的模板，其中第二位大佬是通过题目名字`题号字母 + - + 题目名称`进行搜索的。还提供了Accepted的查找方式，都有现成的了！我马上就想到了两个模板合成在一起。后来我想了想，通过他的查找修改了原来ID的查找和对比。结果就是上图。由于第一版不如我心里想的意思，我就不多展开怎么改了。

# 第一版完

正在着手准备小改动并优化结构……

